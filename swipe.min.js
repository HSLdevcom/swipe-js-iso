(function(e,t){if(typeof module!=="undefined"&&module.exports){module.exports=t()}else{e.Swipe=t()}})(this,function(){"use strict";return function Swipe(n,r){var t=function(){};var a=function(e){setTimeout(e||t,0)};var o={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||"onmousedown"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,transitions:function(e){var t=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var n in t)if(e.style[t[n]]!==undefined)return true;return false}(document.createElement("swipe"))};if(!n)return;var f=n.children[0];var l,u,d,i;r=r||{};var c=parseInt(r.startSlide,10)||0;var v=r.speed||300;var s=parseInt(r.widthOfSiblingSlidePreview,10)||0;var h=r.continuous=r.continuous!==undefined?r.continuous:true;function m(){l=f.children;i=l.length;h=l.length<2?false:r.continuous;u=new Array(l.length);d=Math.round(n.getBoundingClientRect().width||n.offsetWidth)-s*2;f.style.width=l.length*d+"px";var e=l.length;while(e--){var t=l[e];t.style.width=d+"px";t.setAttribute("data-index",e);if(o.transitions){t.style.left=e*-d+s+"px";x(e,c>e?-d:c<e?d:0,0)}}if(h&&o.transitions){x(w(c-1),-d,0);x(w(c+1),d,0)}if(!o.transitions)f.style.left=c*-d+s+"px";n.style.visibility="visible"}function e(){if(h)p(c-1);else if(c)p(c-1)}function E(){if(h)p(c+1);else if(c<l.length-1)p(c+1)}function w(e){return(l.length+e%l.length)%l.length}function p(e,t){if(c==e)return;if(o.transitions){var n=Math.abs(c-e)/(c-e);if(h){var i=n;n=-u[w(e)]/d;if(n!==i)e=-n*l.length+e}var s=Math.abs(c-e)-1;while(s--)x(w((e>c?e:c)-s-1),d*n,0);e=w(e);x(c,d*n,t||v);x(e,0,t||v);if(h)x(w(e-n),-(d*n),0)}else{e=w(e);L(c*-d,e*-d,t||v)}c=e;a(r.callback&&r.callback(c,l[c]))}function x(e,t,n){b(e,t,n);u[e]=t}function b(e,t,n){var i=l[e];var s=i&&i.style;if(!s)return;s.webkitTransitionDuration=s.MozTransitionDuration=s.msTransitionDuration=s.OTransitionDuration=s.transitionDuration=n+"ms";s.webkitTransform="translate("+t+"px,0)"+"translateZ(0)";s.msTransform=s.MozTransform=s.OTransform="translateX("+t+"px)"}function L(t,n,i){if(!i){f.style.left=n+"px";return}var s=+new Date;var a=setInterval(function(){var e=+new Date-s;if(e>i){f.style.left=n+"px";if(g)y();r.transitionEnd&&r.transitionEnd.call(event,c,l[c]);clearInterval(a);return}f.style.left=(n-t)*(Math.floor(e/i*100)/100)+t+"px"},4)}var g=r.auto||0;var T;function y(){clearTimeout(T);T=setTimeout(E,g)}function k(){g=r.auto||0;clearTimeout(T)}var D={};var M={};var z;var S={handleEvent:function(e){switch(e.type){case"mousedown":{this.start(e);break}case"mousemove":{this.move(e);break}case"mouseout":{a(this.end(e));break}case"mouseup":{a(this.end(e));break}case"touchstart":this.start(e);break;case"touchmove":this.move(e);break;case"touchend":a(this.end(e));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":a(this.transitionEnd(e));break;case"resize":a(m);break}if(r.stopPropagation)e.stopPropagation()},start:function(e){let t;if(e.type==="mousedown"){t=e}else{t=e.touches[0]}D={x:t.pageX,y:t.pageY,time:+new Date};z=undefined;M={};f.addEventListener("touchmove",this,false);f.addEventListener("touchend",this,false);f.addEventListener("mousemove",this,false);f.addEventListener("mouseup",this,false);f.addEventListener("mouseover",this,false);f.addEventListener("mouseout",this,false)},move:function(e){let t;if(e.type==="mousemove"){t=e}else{if(e.touches.length>1||e.scale&&e.scale!==1){return}t=e.touches[0]}if(r.disableScroll)return;M={x:t.pageX-D.x,y:t.pageY-D.y};if(typeof z=="undefined"){z=!!(z||Math.abs(M.x)<Math.abs(M.y))}if(!z){e.preventDefault();k();if(h){b(w(c-1),M.x+u[w(c-1)],0);b(c,M.x+u[c],0);b(w(c+1),M.x+u[w(c+1)],0)}else{M.x=M.x/(!c&&M.x>0||c==l.length-1&&M.x<0?Math.abs(M.x)/d+1:1);b(c-1,M.x+u[c-1],0);b(c,M.x+u[c],0);b(c+1,M.x+u[c+1],0)}r.swiping&&r.swiping(-M.x/d)}},end:function(e){var t=+new Date-D.time;var n=Number(t)<250&&Math.abs(M.x)>20||Math.abs(M.x)>d/2;var i=!c&&M.x>0||c==l.length-1&&M.x<0;if(h)i=false;var s=M.x<0;if(!z){if(n&&!i){if(s){if(h){x(w(c-1),-d,0);x(w(c+2),d,0)}else{x(c-1,-d,0)}x(c,u[c]-d,v);x(w(c+1),u[w(c+1)]-d,v);c=w(c+1)}else{if(h){x(w(c+1),d,0);x(w(c-2),-d,0)}else{x(c+1,d,0)}x(c,u[c]+d,v);x(w(c-1),u[w(c-1)]+d,v);c=w(c-1)}r.callback&&r.callback(c,l[c])}else{if(h){x(w(c-1),-d,v);x(c,0,v);x(w(c+1),d,v)}else{x(c-1,-d,v);x(c,0,v);x(c+1,d,v)}}}f.removeEventListener("touchmove",S,false);f.removeEventListener("touchend",S,false);f.removeEventListener("touchforcechange",function(){},false);f.removeEventListener("mousemove",S,false);f.removeEventListener("mouseup",S,false);f.removeEventListener("mouseout",S,false)},transitionEnd:function(e){if(parseInt(e.target.getAttribute("data-index"),10)==c){if(g)y();r.transitionEnd&&r.transitionEnd.call(e,c,l[c])}}};m();if(g)y();if(o.addEventListener){if(o.touch){f.addEventListener("touchstart",S,false);f.addEventListener("touchforcechange",function(){},false);f.addEventListener("mousedown",S,false);f.addEventListener("mouseup",S,false)}if(o.transitions){f.addEventListener("webkitTransitionEnd",S,false);f.addEventListener("msTransitionEnd",S,false);f.addEventListener("oTransitionEnd",S,false);f.addEventListener("otransitionend",S,false);f.addEventListener("transitionend",S,false)}window.addEventListener("resize",S,false)}else{window.onresize=function(){m()}}return{setup:function(){m()},slide:function(e,t){k();p(e,t)},prev:function(){k();e()},next:function(){k();E()},stop:function(){k()},getPos:function(){return c},getNumSlides:function(){return i},kill:function(){k();f.style.width="";f.style.left="";var e=l.length;while(e--){var t=l[e];t.style.width="";t.style.left="";if(o.transitions)b(e,0,0)}if(o.addEventListener){f.removeEventListener("touchstart",S,false);f.removeEventListener("webkitTransitionEnd",S,false);f.removeEventListener("msTransitionEnd",S,false);f.removeEventListener("oTransitionEnd",S,false);f.removeEventListener("otransitionend",S,false);f.removeEventListener("transitionend",S,false);window.removeEventListener("resize",S,false)}else{window.onresize=null}}}}});